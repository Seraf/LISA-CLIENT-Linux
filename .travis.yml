language: python

before_install:
  - sudo apt-get update -qq
  - sudo apt-get install -qy python-dev build-essential gstreamer0.10-plugins-good python-gobject python-gi

python:
    - 2.7
env:
  - TWISTED=svn+svn://svn.twistedmatrix.com/svn/Twisted/trunk PYOPENSSL=PyOpenSSL
  - TWISTED=Twisted==13.2.0 PYOPENSSL=PyOpenSSL

install:
  - pip install $TWISTED
  - 'test -n "$PYOPENSSL" && pip install $PYOPENSSL --use-mirrors || true'
  - pip install -r requirements.txt

script:
  - trial lisa

notifications:
  irc: "irc.oftc.net#lisa"
branches:
  only:
    - master
